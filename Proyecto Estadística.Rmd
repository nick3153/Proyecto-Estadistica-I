---
title: "Proyecto Estadística_Prueba Final"
output: html_document
date: "2024-11-25"
---

![](images/istockphoto-1688506060-1024x1024.jpg)

# EDA: Importaciones en Colombia pre, durante y post pandemia de Covid-19

## **1. Introducción**

-   **1.1.** Planteamiento

Las importaciones de un país pueden ser el reflejo del estado del mismo, tanto de su economía como de su situación interna, en nuestra exploración de datos observamos que la mayoria son cualittivos y muy pocos son cuantitativos. La base de datos del IDEAM nos proporciona archivos de datos desde 2012 hasta 2024, donde, nos parecio curioso análizar la situación del país en los años de pandemia, 2019 - 2022 podrían darnos una figura de como se manejó el país pre, durante y pos-pandemia; Queremos ver y descubrir ¿cómo este evento global afectó a nuestro país desde el comportamiento de las importaciones?, ¿cómo la afect a los departamentos y ciudades más relevantes del tema?

Donde nuestras diversas hipótesis son: ¿La pandemia en realidad afecto las imprtaciones? ¿que tan significativa fué?

-   **1.2.** Abordamiento

Abordamos el problema desde el análisis y comprensión de los datos que estabamos manejando, entender qué significaban sus siglas, que tipos de datos teníamos para trabajar y posteriormente como podíamos presentarlos de modo que reflejarán la situación del contexto.

La metodología se basó en organizar que tipo de gráficas queríamos llegar a obtener, los cálculos que podríamos lograr con los datos que teníamos y su relevancia para el contexto. Así sucesivamente fuimos revisando la teoría vista en clase porque nuestra misión es aplicar lo visto en el curso, por lo qué a medida de que vamos avanzando esperamos obtener más ideas de datos relevantes a analizar.

Por otro lado la creación de estos gráficos y cálculos, se basó en entrar primero al csv original desde una vista de excel e ir identificando que tan limpios estaban los datos y ver que datos debiamos filtrar, cambiar o transdormar (de carcateres a numéricos) si era necesario. El proceso se repetía en cada objetivo que teníamos.

-   **1.3.** Enfoque/técnica analítica

Actualmente nuestra analitica se basa en tener gráficas que nos ayuden a mostrar cómo se comportaron las importaciones durante los años de pandemia. Iniciamos con los datos más básicos que nos brinda la base y seguido de esto esperamos sacar probabilidades y conjeturas de cuales fueron los departamentos donde hubo una mayor reducción de las actividades.

-   **1.4.** Beneficios al consumidor

Esperamos que nuestro análisis ayude al consumidor a ver como las mercancias se comportan en una época de crisis, en qué ciudades receptoras se incrementaron los aranceles y por ende se incrementaron los precios y cuales fueron esos puntos de quiebre que hicieron que los precios se dispararon para poder tener un mejr maneja sobre importaciones en futuras crisis.

## **2. Paquetes de R**

```{r}
install.packages("dplyr")
install.packages("ggplot2")
library("ggplot2")
library(dplyr)
library(scales)
```

COLOCAR LAS DEMÁS--------------------------------------------------------------

## **3. Preparación de los datos**

-   **3.1.** Obtecnión original de los datos

La base de datos utilizada durante el estudio fue obtenida a través de los recursos virtuales del DANE, la cual proporciona datos publicos en su servicio de  *(ANDA)*, donde nos enontramos con un catálogo de nichos de los cuales se proporcionaban archivos .CSV con datos de interés; entre las categorías nos inclinamos por la colección de economia-microdatos, por el nicho de economía internacional, donde entre la lista de opciones de censos nos cautivo las *Estadísticas de Importaciones - IMPO - 2012 A 2024* (<https://microdatos.dane.gov.co/index.php/catalog/473/get-microdata>).

-   **3.2.** Explicación de datos originales

Los datos fueron recolectados por el (DANE) para garantizar la veracidad y transparencia de la información básica y estratégica para la investigación y los usuarios relacionados con las compras al exterior. Los microdatos registran las importaciones de mercancías legales desde otros países o desde una región portuaria de Colombia al resto del territorio aduanero nacional. Los datos se basan en las en la fecha de presentación. 

Los datos se almacenan en una base de datos proporcionada por ANDA, que cuenta con 44 variables, 20 discretas y 24 continuas. Los datos carecen de clasificación *específica* de las mercancías, lo más cercano es la empresa que recibe la mercancia, para la cantidad de variables se proprciona un dicconario de dato donde los nombres de las variables son acrónimos de su significado sencillos de interpretar.

Algo que también nos parecio curioso es que hay dos variables llamadas Pais de Procedencia (PAISPRO) y Pais de Compra (PAISCOM), que a veces son iguales pero en la mayoría de casos es diferente lo que hace pensar que muchas mercancías son hechas en un país (PAISPRO) y son vendidas desde otros pais (PAISCOM), nos parecio curioso.

| Variable   | Descripción                         | Variable   | Descripción                         |
|------------|-------------------------------------|------------|-------------------------------------|
| FECH       | Fecha de proceso                    | CUIDAIMP   | Ciudad del importador               |
| ADUA       | Código de la aduana                 | CUIDAEXP   | Ciudad del exportador               |
| PAISGEN    | País origen                         | ACTECON    | Actividad económica                 |
| PAISPRO    | País de procedencia                 | CODADAD    | Código administración de aduana     |
| PAISCOM    | País de compra                      | VADUA      | Valor aduana                        |
| DEPTODES   | Departamento destino                | VRAJUS     | Valor ajuste                        |
| VIATRANS   | Código vía de transporte            | BASEIVA    | Base IVA                            |
| BANDERA    | Bandera                             | OTROSP     | Porcentaje otros                    |
| REGIMEN    | Código de régimen                   | OTROSBASE  | Base otros                          |
| ACUERDO    | Código del acuerdo                  | TOTALIVAYO | Total IVA y otros gastos            |
| PBK        | Peso bruto en kilos                 | SEGUROS    | Seguros                             |
| PNK        | Peso neto en kilos                  | OTROSG     | Otros gastos                        |
| CANU       | Cantidad de unidades                | LUIN       | Lugar de ingreso                    |
| CODA       | Código de unidad                    | CODLUIN    | Código lugar de ingreso             |
| NABAN      | Posición arancelaria                | DEPIM      | Departamento del importador         |
| VAFODO     | Valor FOB dólares de la mercancía   | COPAEX     | Código país del exportador          |
| FLETE      | Fletes                              | TIPOIM     | Tipo de importación                 |
| VACID      | Valor CIF dólares de la mercancía   | PORARA     | Porcentaje de arancel               |
| VACIP      | Valor CIF pesos de la mercancía     | NIT        | Número de identificación Tributaria |
| IMP1       | Impuesto a las ventas               | DIGV       | Dígito de Verificación              |
| OTDER      | Otros Derechos                      | RZIMPO     | Razón social del importador         |
| CLASE      | Clase de importador                 | DEREL      | Derechos Arancelarios               |



-   **3.3.** Los pasos de importación y limpieza de datos se explican en el texto (dígame por qué realiza las actividades de limpieza de datos que realiza) y siguen un proceso lógico.

Los archivos están muy bien estandarizados, el primer paso de la limpieza fue ir descargando los .zip de cada mes de cada año para extraer el .csv de su año correspondiente, seguimos importando y extrayendo los datos necesarios a través de RMarkdown, donde devimos hacer lectura de .csv aclarando que el primero año esta separado por "," y los demás años por ";".  Además que principalmente en la columna de mercancias y algunos datos aparentemente tipo numérico venian con tipo "character" lo que nos obligo a hacer una limpieza de este item: 

ACA SE COLOCA LA SECCION DE R DONDE ESTA LA EXTRACCIÓN Y LIMPIEZA DE DATOS.

TERMINAR - - - - - - - - - - - -

-   **3.4.** Una vez que sus datos estén limpios, muestre cómo se ve el conjunto de datos final. Sin embargo, no imprima un marco de datos con más de 200 filas; muéstreme los datos en la forma más condensada posible.



-   **3.5.** Proporcione información resumida sobre las variables de interés en su conjunto de datos limpios. No se limite a imprimir un montón de fragmentos de código con str(), summary(), etc. Más bien, proporcione una explicación consolidada, ya sea con una tabla que proporcione información resumida para cada variable o un párrafo de resumen.

CODIGO

###Posibles gráficas básicas Diagramas de barras para cada uno... \* Frecuencias de los paises de procedencia \* Frecuencias de los paises de compra \* Frecuencias de los ciudades que más exportan hacia colombia \* Frecuencias de las cada ciudad que reciben \* Cantidad de dinero en mercancias le llegó a cada departamento \* Gráfica de torta para las ciudades a donde llega la mercancia, por año, cuanto porcentaje llega a bogotá, a medellin, etc... \* Gráfica de medios de transporte y su precio

###Posibles cálculos \* Ver qué probabilidad hay de que X país de origen nos envién una mercancía a X ciudad \* Ver que probabilidad hay de que la mercancia llegue a Bogotá/Medellin/Buenaventura/cali/pererira

-   Promedio, mediana de mercancia por ciudades
-   Calcular los aranceles de cada aduana -\> saber cual fue la más cara y la más económica

TERMINAR DE ARREGLAR TEXTO

---------------------------------------------------------- INICIO DE CÓDIGO ----------------------------------------------------------



```{r}
# Define la ruta base de los arvhivos
ruta_base <- "C:/Users/angel/Documents/1. UNIVERSIDAD/5TO SEMESTRE/ESTADISTICA/Proyecto Final"

# Lectura de los archivos 2019
Enero_2019  <- read.csv(file.path(ruta_base, "Impo_2019/1. Enero_2019.csv"), sep = ";")
Febrero_2019 <- read.csv(file.path(ruta_base, "Impo_2019/2. Febrero_2019.csv"), sep = ";")
Marzo_2019 <- read.csv(file.path(ruta_base, "Impo_2019/3. Marzo_2019.csv"), sep = ";")
Abril_2019 <- read.csv(file.path(ruta_base, "Impo_2019/4. Abril_2019.csv"), sep = ";")
Mayo_2019 <- read.csv(file.path(ruta_base, "Impo_2019/5. Mayo_2019.csv"), sep = ";")
Junio_2019 <- read.csv(file.path(ruta_base, "Impo_2019/6. Junio_2019.csv"), sep = ";")
Julio_2019 <- read.csv(file.path(ruta_base, "Impo_2019/7. Julio_2019.csv"), sep = ";")
Agosto_2019 <- read.csv(file.path(ruta_base, "Impo_2019/8. Agosto_2019.csv"), sep = ";")
Septiembre_2019 <- read.csv(file.path(ruta_base, "Impo_2019/9. Septiembre_2019.csv"), sep = ";")
Octubre_2019 <- read.csv(file.path(ruta_base, "Impo_2019/10. Octubre_2019.csv"), sep = ";")
Noviembre_2019 <- read.csv(file.path(ruta_base, "Impo_2019/11. Noviembre_2019.csv"), sep = ";")
Diciembre_2019 <- read.csv(file.path(ruta_base, "Impo_2019/12. Diciembre_2019.csv"), sep = ";")


# Extracción de datos 2020
Enero_2020  <- read.csv(file.path(ruta_base, "Impo_2020/1. Enero_2020.csv"), sep = ",")
Febrero_2020 <- read.csv(file.path(ruta_base, "Impo_2020/2. Febrero_2020.csv"), sep = ",")
Marzo_2020 <- read.csv(file.path(ruta_base, "Impo_2020/3. Marzo_2020.csv"), sep = ",")
Abril_2020 <- read.csv(file.path(ruta_base, "Impo_2020/4. Abril_2020.csv"), sep = ",")
Mayo_2020 <- read.csv(file.path(ruta_base, "Impo_2020/5. Mayo_2020.csv"), sep = ",")
Junio_2020 <- read.csv(file.path(ruta_base, "Impo_2020/6. Junio_2020.csv"), sep = ",")
Julio_2020 <- read.csv(file.path(ruta_base, "Impo_2020/7. Julio_2020.csv"), sep = ",")
Agosto_2020 <- read.csv(file.path(ruta_base, "Impo_2020/8. Agosto_2020.csv"), sep = ",")
Septiembre_2020 <- read.csv(file.path(ruta_base, "Impo_2020/9. Septiembre_2020.csv"), sep = ",")
Octubre_2020 <- read.csv(file.path(ruta_base, "Impo_2020/10. Octubre_2020.csv"), sep = ",")
Noviembre_2020 <- read.csv(file.path(ruta_base, "Impo_2020/11. Noviembre_2020.csv"), sep = ",")
Diciembre_2020 <- read.csv(file.path(ruta_base, "Impo_2020/12. Diciembre_2020.csv"), sep = ",")

#En este punto dejamos de especificar de que año era cada mes (1. Enero_2019 -> 1. Enero) durante la extracción de datos por simplicidad de escritura y lectura en el código,
# Extracción de datos 2021 con los nombres de las variables actualizados
Enero_2021  <- read.csv(file.path(ruta_base, "Impo_2021/1. Enero.csv"), sep = ",")
Febrero_2021 <- read.csv(file.path(ruta_base, "Impo_2021/2. Febrero.csv"), sep = ",")
Marzo_2021 <- read.csv(file.path(ruta_base, "Impo_2021/3. Marzo.csv"), sep = ",")
Abril_2021 <- read.csv(file.path(ruta_base, "Impo_2021/4. Abril.csv"), sep = ",")
Mayo_2021 <- read.csv(file.path(ruta_base, "Impo_2021/5. Mayo.csv"), sep = ",")
Junio_2021 <- read.csv(file.path(ruta_base, "Impo_2021/6. Junio.csv"), sep = ",")
Julio_2021 <- read.csv(file.path(ruta_base, "Impo_2021/7. Julio.csv"), sep = ",")
Agosto_2021 <- read.csv(file.path(ruta_base, "Impo_2021/8. Agosto.csv"), sep = ",")
Septiembre_2021 <- read.csv(file.path(ruta_base, "Impo_2021/9. Septiembre.csv"), sep = ",")
Octubre_2021 <- read.csv(file.path(ruta_base, "Impo_2021/10. Octubre.csv"), sep = ",")
Noviembre_2021 <- read.csv(file.path(ruta_base, "Impo_2021/11. Noviembre.csv"), sep = ",")
Diciembre_2021 <- read.csv(file.path(ruta_base, "Impo_2021/12. Diciembre.csv"), sep = ",")

# Extracción de datos 2022 
Enero_2022  <- read.csv(file.path(ruta_base, "Impo_2022/1. Enero.csv"), sep = ",")
Febrero_2022 <- read.csv(file.path(ruta_base, "Impo_2022/2. Febrero.csv"), sep = ",")
Marzo_2022 <- read.csv(file.path(ruta_base, "Impo_2022/3. Marzo.csv"), sep = ",")
Abril_2022 <- read.csv(file.path(ruta_base, "Impo_2022/4. Abril.csv"), sep = ",")
Mayo_2022 <- read.csv(file.path(ruta_base, "Impo_2022/5. Mayo.csv"), sep = ",")
Junio_2022 <- read.csv(file.path(ruta_base, "Impo_2022/6. Junio.csv"), sep = ",")
Julio_2022 <- read.csv(file.path(ruta_base, "Impo_2022/7. Julio.csv"), sep = ",")
Agosto_2022 <- read.csv(file.path(ruta_base, "Impo_2022/8. Agosto.csv"), sep = ",")
Septiembre_2022 <- read.csv(file.path(ruta_base, "Impo_2022/9. Septiembre.csv"), sep = ",")
Octubre_2022 <- read.csv(file.path(ruta_base, "Impo_2022/10. Octubre.csv"), sep = ",")
Noviembre_2022 <- read.csv(file.path(ruta_base, "Impo_2022/11. Noviembre.csv"), sep = ",")
Diciembre_2022 <- read.csv(file.path(ruta_base, "Impo_2022/12. Diciembre.csv"), sep = ",")

```

Declaramos las columnas que queremos trabajar:

```{r}
COLUMNAS <- c("PBK", "CODLUIN","DEPTODES", "VIATRANS", "FLETE", "VACID", "VADUA", "VIATRANS") 

#Extraccion de columas exactas para 2019
Enero_2019 <- Enero_2019 %>% select(all_of(COLUMNAS))
Febrero_2019 <- Febrero_2019 %>% select(all_of(COLUMNAS))
Marzo_2019 <- Marzo_2019 %>% select(all_of(COLUMNAS))
Abril_2019 <- Abril_2019 %>% select(all_of(COLUMNAS))
Mayo_2019 <- Mayo_2019 %>% select(all_of(COLUMNAS))
Junio_2019 <- Junio_2019 %>% select(all_of(COLUMNAS))
Julio_2019 <- Julio_2019 %>% select(all_of(COLUMNAS))
Agosto_2019 <- Agosto_2019 %>% select(all_of(COLUMNAS))
Septiembre_2019 <- Septiembre_2019 %>% select(all_of(COLUMNAS))
Octubre_2019 <- Octubre_2019 %>% select(all_of(COLUMNAS))
Noviembre_2019 <- Noviembre_2019 %>% select(all_of(COLUMNAS))
Diciembre_2019 <- Diciembre_2019 %>% select(all_of(COLUMNAS))

#Data frame 2019
datos_2019 <- data.frame(
  Mes = c("Enero", "Febrero", "Marzo", "Abril", "Mayo", "Junio", 
          "Julio", "Agosto", "Septiembre", "Octubre", "Noviembre", "Diciembre"),
  FrecuenciaAbsoluta = c(
    sum(table(Enero_2019$CODLUIN)),
    sum(table(Febrero_2019$CODLUIN)),
    sum(table(Marzo_2019$CODLUIN)),
    sum(table(Abril_2019$CODLUIN)),
    sum(table(Mayo_2019$CODLUIN)),
    sum(table(Junio_2019$CODLUIN)),
    sum(table(Julio_2019$CODLUIN)),
    sum(table(Agosto_2019$CODLUIN)),
    sum(table(Septiembre_2019$CODLUIN)),
    sum(table(Octubre_2019$CODLUIN)),
    sum(table(Noviembre_2019$CODLUIN)),
    sum(table(Diciembre_2019$CODLUIN))
  )
)
#Data frame para el ggplot
datos_2019$Mes <- factor(datos_2019$Mes, levels = c("Enero", "Febrero", "Marzo", "Abril", "Mayo", "Junio", 
                                                    "Julio", "Agosto", "Septiembre", "Octubre", "Noviembre", "Diciembre"))

# Crear el gráfico de barras
ggplot(data = datos_2019, aes(x = Mes, y = FrecuenciaAbsoluta)) +
  geom_col(fill = "#310541", color = "black", alpha = 0.7, position = position_dodge(width = 0.9)) +
  labs(title = "Importaciones mensuales de 2019", x = "Mes", y = "Frecuencia") +
  theme_minimal() +
  theme(plot.title = element_text(hjust = 0.5)) +
  scale_y_continuous(labels = comma)

```


```{r}
Enero_2020 <- Enero_2020 %>% select(all_of(COLUMNAS))
Febrero_2020 <- Febrero_2020 %>% select(all_of(COLUMNAS))
Marzo_2020 <- Marzo_2020 %>% select(all_of(COLUMNAS))
Abril_2020 <- Abril_2020 %>% select(all_of(COLUMNAS))
Mayo_2020 <- Mayo_2020 %>% select(all_of(COLUMNAS))
Junio_2020 <- Junio_2020 %>% select(all_of(COLUMNAS))
Julio_2020 <- Julio_2020 %>% select(all_of(COLUMNAS))
Agosto_2020 <- Agosto_2020 %>% select(all_of(COLUMNAS))
Septiembre_2020 <- Septiembre_2020 %>% select(all_of(COLUMNAS))
Octubre_2020 <- Octubre_2020 %>% select(all_of(COLUMNAS))
Noviembre_2020 <- Noviembre_2020 %>% select(all_of(COLUMNAS))
Diciembre_2020 <- Diciembre_2020 %>% select(all_of(COLUMNAS))

#Data frame 2020
datos_2020 <- data.frame(
  Mes = c("Enero", "Febrero", "Marzo", "Abril", "Mayo", "Junio", 
          "Julio", "Agosto", "Septiembre", "Octubre", "Noviembre", "Diciembre"),
  FrecuenciaAbsoluta = c(
    sum(table(Enero_2020$CODLUIN)),
    sum(table(Febrero_2020$CODLUIN)),
    sum(table(Marzo_2020$CODLUIN)),
    sum(table(Abril_2020$CODLUIN)),
    sum(table(Mayo_2020$CODLUIN)),
    sum(table(Junio_2020$CODLUIN)),
    sum(table(Julio_2020$CODLUIN)),
    sum(table(Agosto_2020$CODLUIN)),
    sum(table(Septiembre_2020$CODLUIN)),
    sum(table(Octubre_2020$CODLUIN)),
    sum(table(Noviembre_2020$CODLUIN)),
    sum(table(Diciembre_2020$CODLUIN))
  )
)
#Data frame para el ggplot
datos_2020$Mes <- factor(datos_2020$Mes, levels = c("Enero", "Febrero", "Marzo", "Abril", "Mayo", "Junio", 
                                                    "Julio", "Agosto", "Septiembre", "Octubre", "Noviembre", "Diciembre"))

# Crear el gráfico de barras
ggplot(data = datos_2020, aes(x = Mes, y = FrecuenciaAbsoluta)) +
  geom_col(fill = "#c551ef", color = "black", alpha = 0.7, position = position_dodge(width = 0.9)) +
  labs(title = "Importaciones mensuales de 2020", x = "Mes", y = "Frecuencia") +
  theme_minimal() +
  theme(plot.title = element_text(hjust = 0.5)) +
  scale_y_continuous(labels = comma)

```

```{r}
Enero_2021 <- Enero_2021 %>% select(all_of(COLUMNAS))
Febrero_2021 <- Febrero_2021 %>% select(all_of(COLUMNAS))
Marzo_2021 <- Marzo_2021 %>% select(all_of(COLUMNAS))
Abril_2021 <- Abril_2021 %>% select(all_of(COLUMNAS))
Mayo_2021 <- Mayo_2021 %>% select(all_of(COLUMNAS))
Junio_2021 <- Junio_2021 %>% select(all_of(COLUMNAS))
Julio_2021 <- Julio_2021 %>% select(all_of(COLUMNAS))
Agosto_2021 <- Agosto_2021 %>% select(all_of(COLUMNAS))
Septiembre_2021 <- Septiembre_2021 %>% select(all_of(COLUMNAS))
Octubre_2021 <- Octubre_2021 %>% select(all_of(COLUMNAS))
Noviembre_2021 <- Noviembre_2021 %>% select(all_of(COLUMNAS))
Diciembre_2021 <- Diciembre_2021 %>% select(all_of(COLUMNAS))

#Data frame 2021
datos_2021 <- data.frame(
  Mes = c("Enero", "Febrero", "Marzo", "Abril", "Mayo", "Junio", 
          "Julio", "Agosto", "Septiembre", "Octubre", "Noviembre", "Diciembre"),
  FrecuenciaAbsoluta = c(
    sum(table(Enero_2021$CODLUIN)),
    sum(table(Febrero_2021$CODLUIN)),
    sum(table(Marzo_2021$CODLUIN)),
    sum(table(Abril_2021$CODLUIN)),
    sum(table(Mayo_2021$CODLUIN)),
    sum(table(Junio_2021$CODLUIN)),
    sum(table(Julio_2021$CODLUIN)),
    sum(table(Agosto_2021$CODLUIN)),
    sum(table(Septiembre_2021$CODLUIN)),
    sum(table(Octubre_2021$CODLUIN)),
    sum(table(Noviembre_2021$CODLUIN)),
    sum(table(Diciembre_2021$CODLUIN))
  )
)
#Data frame para el ggplot
datos_2021$Mes <- factor(datos_2021$Mes, levels = c("Enero", "Febrero", "Marzo", "Abril", "Mayo", "Junio", 
                                                    "Julio", "Agosto", "Septiembre", "Octubre", "Noviembre",
                                                    "Diciembre"))

# Crear el gráfico de barras
ggplot(data = datos_2021, aes(x = Mes, y = FrecuenciaAbsoluta)) +
  geom_col(fill = "#41018d", color = "black", alpha = 0.7, position = position_dodge(width = 0.9)) +
  labs(title = "Importaciones mensuales de 2021", x = "Mes", y = "Frecuencia") +
  theme_minimal() +
  theme(plot.title = element_text(hjust = 0.5)) +
  scale_y_continuous(labels = comma) 
```

```{r}
Enero_2022 <- Enero_2022 %>% select(all_of(COLUMNAS))
Febrero_2022 <- Febrero_2022 %>% select(all_of(COLUMNAS))
Marzo_2022 <- Marzo_2022 %>% select(all_of(COLUMNAS))
Abril_2022 <- Abril_2022 %>% select(all_of(COLUMNAS))
Mayo_2022 <- Mayo_2022 %>% select(all_of(COLUMNAS))
Junio_2022 <- Junio_2022 %>% select(all_of(COLUMNAS))
Julio_2022 <- Julio_2022 %>% select(all_of(COLUMNAS))
Agosto_2022 <- Agosto_2022 %>% select(all_of(COLUMNAS))
Septiembre_2022 <- Septiembre_2022 %>% select(all_of(COLUMNAS))
Octubre_2022 <- Octubre_2022 %>% select(all_of(COLUMNAS))
Noviembre_2022 <- Noviembre_2022 %>% select(all_of(COLUMNAS))
Diciembre_2022 <- Diciembre_2022 %>% select(all_of(COLUMNAS))

#Data frame 2022
datos_2022 <- data.frame(
  Mes = c("Enero", "Febrero", "Marzo", "Abril", "Mayo", "Junio", 
          "Julio", "Agosto", "Septiembre", "Octubre", "Noviembre", "Diciembre"),
  FrecuenciaAbsoluta = c(
    sum(table(Enero_2022$CODLUIN)),
    sum(table(Febrero_2022$CODLUIN)),
    sum(table(Marzo_2022$CODLUIN)),
    sum(table(Abril_2022$CODLUIN)),
    sum(table(Mayo_2022$CODLUIN)),
    sum(table(Junio_2022$CODLUIN)),
    sum(table(Julio_2022$CODLUIN)),
    sum(table(Agosto_2022$CODLUIN)),
    sum(table(Septiembre_2022$CODLUIN)),
    sum(table(Octubre_2022$CODLUIN)),
    sum(table(Noviembre_2022$CODLUIN)),
    sum(table(Diciembre_2022$CODLUIN))
  )
)
#Data frame para el ggplot
datos_2022$Mes <- factor(datos_2022$Mes, levels = c("Enero", "Febrero", "Marzo", "Abril", "Mayo", "Junio", 
                                                    "Julio", "Agosto", "Septiembre", "Octubre", "Noviembre", "Diciembre"))

# Crear el gráfico de barras
ggplot(data = datos_2022, aes(x = Mes, y = FrecuenciaAbsoluta)) +
  geom_col(fill = "#bf8bfd", color = "black", alpha = 0.7, position = position_dodge(width = 0.9)) +
  labs(title = "Importaciones mensuales de 2022", x = "Mes", y = "Frecuencia") +
  theme_minimal() +
  theme(plot.title = element_text(hjust = 0.5)) +
  scale_y_continuous(labels = comma)

```







